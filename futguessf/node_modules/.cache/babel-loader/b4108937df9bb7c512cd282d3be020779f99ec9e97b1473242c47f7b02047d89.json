{"ast":null,"code":"// userFunctions.js\n\nconst registerUser = (username, email, password) => {\n  const users = getUsersFromLocalStorage();\n  const newUser = {\n    id: users.length + 1,\n    username,\n    email,\n    password,\n    balance: 0,\n    isAdmin: false\n  };\n  users.push(newUser);\n  setUsersToLocalStorage(users);\n  setLoggedInUser(newUser); // Kullanıcıyı otomatik olarak giriş yapmış say\n  return newUser;\n};\nconst loginUser = (email, password) => {\n  const users = getUsersFromLocalStorage();\n  const user = users.find(u => u.email === email && u.password === password);\n  if (user) {\n    setLoggedInUser(user); // Bu satırı ekleyin\n  }\n  return user;\n};\nconst getUserById = userId => {\n  const users = getUsersFromLocalStorage();\n  return users.find(u => u.id === userId);\n};\nconst getUsersFromLocalStorage = () => {\n  const usersString = localStorage.getItem('users');\n  const users = usersString ? JSON.parse(usersString) : [];\n\n  // Eğer users bir dizi değilse, bir dizi olarak başlat\n  if (!Array.isArray(users)) {\n    return [];\n  }\n  return users;\n};\nconst setUsersToLocalStorage = users => {\n  localStorage.setItem('users', JSON.stringify(users));\n};\nconst setLoggedInUser = user => {\n  try {\n    localStorage.setItem('loggedInUser', JSON.stringify(user));\n  } catch (error) {\n    console.error('Error setting loggedInUser to localStorage:', error);\n  }\n};\nconst getLoggedInUser = () => {\n  const loggedInUserString = localStorage.getItem('loggedInUser');\n  return JSON.parse(loggedInUserString) || null;\n};\nconst updateUserBalance = (userId, newBalance) => {\n  const users = getUsersFromLocalStorage();\n  const updatedUsers = users.map(user => user.id === userId ? {\n    ...user,\n    balance: newBalance\n  } : user);\n\n  // LocalStorage'deki veriyi güncelle\n  setUsersToLocalStorage(updatedUsers);\n  // Aynı zamanda loggedInUser'ın bakiyesini de güncelle\n  setLoggedInUser({\n    ...getLoggedInUser(),\n    balance: newBalance\n  });\n};\nexport { registerUser, loginUser, getUserById, getUsersFromLocalStorage, setUsersToLocalStorage, setLoggedInUser, updateUserBalance };","map":{"version":3,"names":["registerUser","username","email","password","users","getUsersFromLocalStorage","newUser","id","length","balance","isAdmin","push","setUsersToLocalStorage","setLoggedInUser","loginUser","user","find","u","getUserById","userId","usersString","localStorage","getItem","JSON","parse","Array","isArray","setItem","stringify","error","console","getLoggedInUser","loggedInUserString","updateUserBalance","newBalance","updatedUsers","map"],"sources":["/Users/berkanyuce/Desktop/Workintech/futguess/futguess/futguessf/src/Functions/userFunctions.js"],"sourcesContent":["// userFunctions.js\n\nconst registerUser = (username, email, password) => {\n    const users = getUsersFromLocalStorage();\n    const newUser = {\n      id: users.length + 1,\n      username,\n      email,\n      password,\n      balance: 0,\n      isAdmin: false,\n    };\n    users.push(newUser);\n    setUsersToLocalStorage(users);\n    setLoggedInUser(newUser); // Kullanıcıyı otomatik olarak giriş yapmış say\n    return newUser;\n  };\n  \n  const loginUser = (email, password) => {\n    const users = getUsersFromLocalStorage();\n    const user = users.find((u) => u.email === email && u.password === password);\n  \n    if (user) {\n      setLoggedInUser(user); // Bu satırı ekleyin\n    }\n  \n    return user;\n  };\n  \n  \n  const getUserById = (userId) => {\n    const users = getUsersFromLocalStorage();\n    return users.find((u) => u.id === userId);\n  };\n  \n  const getUsersFromLocalStorage = () => {\n    const usersString = localStorage.getItem('users');\n    const users = usersString ? JSON.parse(usersString) : [];\n  \n    // Eğer users bir dizi değilse, bir dizi olarak başlat\n    if (!Array.isArray(users)) {\n      return [];\n    }\n  \n    return users;\n  };\n  \n  \n  const setUsersToLocalStorage = (users) => {\n    localStorage.setItem('users', JSON.stringify(users));\n  };\n  \n  const setLoggedInUser = (user) => {\n    try {\n      localStorage.setItem('loggedInUser', JSON.stringify(user));\n    } catch (error) {\n      console.error('Error setting loggedInUser to localStorage:', error);\n    }\n  };\n  \n  \n  \n  const getLoggedInUser = () => {\n    const loggedInUserString = localStorage.getItem('loggedInUser');\n    return JSON.parse(loggedInUserString) || null;\n  };\n  \n  const updateUserBalance = (userId, newBalance) => {\n    const users = getUsersFromLocalStorage();\n    const updatedUsers = users.map((user) =>\n      user.id === userId ? { ...user, balance: newBalance } : user\n    );\n  \n    // LocalStorage'deki veriyi güncelle\n    setUsersToLocalStorage(updatedUsers);\n    // Aynı zamanda loggedInUser'ın bakiyesini de güncelle\n    setLoggedInUser({ ...getLoggedInUser(), balance: newBalance });\n  };\n\n  export { registerUser, loginUser, getUserById, getUsersFromLocalStorage, setUsersToLocalStorage, setLoggedInUser, updateUserBalance };\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}